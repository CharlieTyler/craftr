<div class = "background-lightgrey">
  <div class = "container">
    <div class = "row py-2">
      <div class = "col-md-6 offset-md-3 lyst-box my-2 px-3 py-3">
        <div class = "row">
          <div class = "col-6 login-signin-btn login-header">
            <h2><%= title 'Log in' %></h2>
          </div>
          <div class = "col-6 login-signin-btn signup-header active">
            <h2>Sign up</h2>
          </div>
        </div>
        <div class = "row">
          <div class = "col-12 px-0">
            <div class = "indent-dot left background-lightgrey"></div><div class = "indent-dot right  background-lightgrey"></div>
            <hr class = "lyst-line-lightgrey my-2"/>
          </div>
        </div>
        <div class = "login-content hidden">
          <%= render 'devise/shared/login_form' %>
        </div>
        <div class = "signup-content">
          <%= render 'devise/shared/signup_form' %>
        </div>
      </div>
      <% if @order.order_items.length > 0 %>
        <div class = "col-md-3">
          <div class = "row px-2 pr-md-0">
            <%= render partial: "checkout/orders/order_summary", locals: {order: @order} %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<script>
  $(function() {
    $( ".login-header" ).click(function() {
      $(this).addClass("active");
      $(".signup-header").removeClass("active");
      $( ".login-content" ).show( "slow", function() {
        // Animation complete.
      // $( ".login-email-field" ).focus();
        // TODO: Focussing currently not working
      });
      $(".signup-content").hide( "slow", function() {

      });
      $("html, body").animate({ scrollTop: 0 }, "slow");
    });
    $( ".signup-header" ).click(function() {
      $(this).addClass("active");
      $(".login-header").removeClass("active");
      $( ".signup-content" ).show( "slow", function() {
        // Animation complete.
      });
      // $( ".signup-email-field" ).focus();
      // TODO: Focussing currently not working
      $(".login-content").hide( "slow", function() {

      });
      $("html, body").animate({ scrollTop: 0 }, "slow");
    });
  });
</script>